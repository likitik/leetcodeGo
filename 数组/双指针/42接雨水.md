### 方案一

- 对于每个下标i，该位置能接到的水，取决于左右两侧的条形块
  - min(max_left[i],max_right[i])-height[i]
```golang
func max(i,j int)int{
    if i>j{
        return i
    }
    return j
}
func min(i,j int)int{
    if i<j{
        return i
    }
    return j
}
func trap(height []int) int {
    if len(height)==0{
        return 0
    }
    var res int
    max_left := make([]int,len(height),len(height))
    max_right := make([]int,len(height),len(height))
    max_left[0] = height[0]
    for i:=1;i<len(height);i++{
        max_left[i] = max(max_left[i-1],height[i])
    }
    max_right[len(height)-1] = height[len(height)-1]
    for i:=len(height)-2;i>=0;i--{
        max_right[i] = max(max_right[i+1],height[i])
    }
    for i:=1;i<len(height)-1;i++{
        res +=min(max_left[i],max_right[i])-height[i]
    }
    return res
}
```
### 双指针
- 同样维护max_left,max_right，但一次遍历


```golang
func trap(height []int) int {
    res,left,right,left_max,right_max:=0,0,len(height)-1,0,0
    for left<right{
        if height[left]<height[right]{
            if height[left]>=left_max{
                left_max = height[left]
            }else{
                res += left_max-height[left]
            }
            left++
        }else{
            if height[right]>=right_max{
                right_max = height[right]
            }else{
                res += right_max-height[right]
            }
            right--
        }
    }
    return res    
}
```